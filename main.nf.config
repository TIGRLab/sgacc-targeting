// Any variables defined here and in BOONStim's boonstim.nf.config
// are available in .nf scripts as params.XXXXXX
// This file is given via nextflow run boonstim.nf -c /path/to/main.nf.config

import nextflow.util.Duration

singularity {
    autoMounts=true
    enabled=true
}

// Partition assignment functions
def get_queue(w, mapping){
    def td_mapping = mapping.collectEntries{k,v -> [new Duration(k), v]}
    def ps = td_mapping.grep{it.key >= w}.sort{it.key}
    return ps.first().value
}

repo = "/scratch/smansour/scripts/sgacc-dev"
rois = "${repo}/rois"

// Threshold defaults
params.threshold = 50

// Masking defaults
params.sgacc_template="${rois}/glasser_R_25_ROI.dscalar.nii"
params.sgacc_back_template="${rois}/allsubs_func_connectivity_REST1_minus_LRDLFPC.dscalar.nii"
params.dlpfc_mask="${rois}/glasser_dlpfc_no_subcort.dscalar.nii"

// Clustering defaults
params.surface_value_threshold = 0
params.surface_minimum_area = 20
params.volume_value_threshold = -2.85
params.volume_minimum_size = 20

// Targeting defaults
params.sulcal_depth = 75
